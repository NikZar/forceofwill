<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-tooltip/core-tooltip.html">
<link rel="import" href="../../bower_components/core-icon/core-icon.html">
<link rel="import" href="../../bower_components/core-icons/core-icons.html">


<polymer-element name="fow-play-board-card" attributes="card size show restable">
  <template>
    <style>

      :host {
        display: inline-block;
      }

      .restable{
        margin-right: 28px;
      }

      .medium{
        width: 120px;
        height: 160px;
      }

      .small{
        width: 80px;
        height: 110px;
      }

      .rested {
          -webkit-transform: rotate(90deg);
          -moz-transform: rotate(90deg);
          -o-transform: rotate(90deg);
          -ms-transform: rotate(90deg);
          transform: rotate(90deg);
      }

      .relative{
        position: relative;
      }

      .top-right{
        cursor: pointer;
        position: absolute;
        top: 0px;
        right: 0px;
        color: #efe;
        width: 20px;
        height: 20px;
        background-color: black;
      }

    </style>

    <template if="{{show}}">
      <core-tooltip show="{{showTooltip}}" position="right">
        
        <div class="relative">

          <core-icon on-tap="{{toggleTooltip}}" class="top-right" icon="menu">
          </core-icon>

          <img on-tap="{{restCard}}" class="{{ size }} {{ rested?'rested':''}} {{ restable?'restable':''}}" src="{{ '../images' + card['Image path'] }}">
        </div>
        <div class="{{ size }}" tip>
          MENU
        </div>

      </core-tooltip>
    </template>
    <template if="{{!show}}">
      <img on-tap="{{restCard}}" class="{{ size }} {{ rested?'rested':''}} {{ restable?'restable':''}}" src="../../images/fow_back.png">
    </template>
    

  </template>
  <script>
    (function () {

      Polymer({
        showTooltip: false,

        toggleTooltip: function(){
          this.showTooltip = !this.showTooltip;
        },

        restCard: function(){
          if(this.restable){
            this.rested = !this.rested;
          }
        }
      });

    })();
  </script>
</polymer-element>
